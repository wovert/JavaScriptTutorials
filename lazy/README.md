# 图片懒加载

> 图片延迟加载

- 前段性能优化的重要手段之一，开始加载页面额时候，并没有加载真实的图片，当页面结构和数据都呈现完成之后，在加载真实的图片

## solution

1. 结构上，image 图片放到衣蛾 div 盒子中，开始的时候图片 SRC（SRC 中有地址就按照地址加载图片）为空，把图片的地址存放到自定义属性 `DATA-SRC` 中（此位置不显示真实的图片），给盒子中的图片设置一个默认的背景图片占位（图片越小越好 1KB）

2. 在 JS 中，当监听到页面中结构和数据都加载完成后（或者设置一个间隔时间）
   ，开始吧`DATA-SRC`自定义属性中存储的真实图片地址赋值给 img 的 src 属性
   （浏览器开始加载真实的图片，为了防止图片地址不存在导致的 404 错误，在赋值给图片 SRC 属性时，都会验证一下图片是否存在）
